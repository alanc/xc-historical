SRCS =	 cfbgc.c cfbwindow.c cfbmisc.c \
	 cfbpntwin.c cfbmaskbits.c cfbpixmap.c cfbbitblt.c \
	 cfbfillsp.c cfbsetsp.c cfbscrinit.c \
	 cfbgetsp.c cfbutils.c \
	 cfbcmap.c cfboldmfb.c

OBJS =   cfbgc.o cfbwindow.o cfbmisc.o \
	 cfbgetsp.o cfbutils.o \
	 cfbfillsp.o cfbsetsp.o cfbscrinit.o \
	 cfbpntwin.o cfbmaskbits.o cfbpixmap.o cfbbitblt.o \
	 cfbcmap.o cfboldmfb.o

CDEBUGFLAGS = -g
   INCLUDES = -I. -I../../include -I../../../include -I../mfb
     LFLAGS = -buxz

NormalLibraryObjectRule()
NormalLibraryTarget(cfb,$(OBJS))

DependTarget()

#ifdef vax
#
# 4.3bsd and Ultrix cc does not pass -J flag (compile long jumps)
# to the assembler, as.  cfbbitblt.c needs long jumps to build.
#
cfbbitblt.o:
	$(CC) -S $(CFLAGS) cfbbitblt.c
	as -o cfbbitblt.o -J cfbbitblt.s
	rm cfbbitblt.s
#endif

lint: ${SRCS}
	@echo 'Expect the following warnings from lint:' >lint.out
	@echo '  cfbpntwin.c: srcStartOver set but not used' >>lint.out
	@echo '  cfbbitblt.c: tmpDst set but not used (4 of these)' >>lint.out
	@echo '-------' >>lint.out
	$(LINT) $(LFLAGS) -Clibcfb $(INCLUDES) $(SRCS) >> lint.out 2>&1

      XDMCONFIG = xdm-config
   XDMRESOURCES = Xresources
     XDMSERVERS = Xservers
     XDMSESSION = Xsession

all:: Xservers.ws Xsetup_0 xdm-config

CppScriptTarget(Xservers.ws,Xserv.ws.cpp,-DBINDIR=$(BINDIR),NullParameter)
CppScriptTarget(Xsetup_0,Xsetup_0.cpp,-DBINDIR=$(BINDIR),NullParameter)
CppScriptTarget(xdm-config,xdm-conf.cpp,-DXDMDIR=$(XDMDIR),NullParameter)

InstallNonExecFile($(XDMCONFIG),$(XDMDIR))
InstallNonExecFile($(XDMRESOURCES),$(XDMDIR))
InstallNonExecFile($(XDMSERVERS),$(XDMDIR))
InstallNamedProg($(XDMSESSION),$(XDMSESSION),$(XDMDIR))

#ifdef XdmServersType
LinkFile(Xservers,Xservers.XdmServersType)
#else
Xservers:
	echo "Choose one of" Xservers.* "and copy it to Xservers"
	exit 1
#endif

depend::

clean::
	$(RM) Xservers.ws Xsetup_0 xdm-config

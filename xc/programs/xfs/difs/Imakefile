XCOMM $XConsortium: Imakefile,v 1.11 92/06/01 14:05:26 gildea Exp $
#undef ServerDefines
#include <Server.tmpl>

SRCS =	main.c dispatch.c extensions.c globals.c events.c tables.c \
	fontinfo.c charinfo.c swapreq.c swaprep.c resource.c \
	fonts.c difsutils.c cache.c initfonts.c atom.c

OBJS =  main.o dispatch.o extensions.o globals.o events.o tables.o \
	fontinfo.o charinfo.o swapreq.o swaprep.o resource.o \
	fonts.o difsutils.o cache.o initfonts.o atom.o


INCLUDES = -I../include -I$(FONTINCSRC)
FONTDEFINES = -DFONT_PCF -DFONT_FS -DFONT_SPEEDO
#ifdef DefaultFSConfigFile
DEFAULTCONFIGFILE = DefaultFSConfigFile
     CONFIGDEFINES = -DDEFAULT_CONFIG_FILE=\"$(DEFAULTCONFIGFILE)\"
#if HasSaberC
/* Saber doesn't handle quotes correctly */
SABERCONFIGDEFINES = -DDEFAULT_CONFIG_FILE=\\\"$(DEFAULTCONFIGFILE)\\\"
#endif
#endif


NormalLibraryObjectRule()
NormalLibraryTarget(difs,$(OBJS))

DependTarget()

SpecialObjectRule(main.o,$(ICONFIGFILES),$(CONFIGDEFINES))
SaberLoadTarget(saber,main.c,NullParameter,$(ALLDEFINES) $(SABERCONFIGDEFINES))

SpecialCObjectRule(initfonts,$(ICONFIGFILES),$(FONTDEFINES))


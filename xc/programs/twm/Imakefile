/**/#
/**/#Here is an Imakefile for twm.  It depends on having TWMDIR defined
/**/#in Imake.tmpl.  I like to use Imakefiles for everything, and I am sure
/**/#other people do also, so perhaps you could do us all a favor and
/**/#distribute this one.
/**/#


#if !HasVoidSignalReturn
     SIGPROCDEF = -DSIGNALRETURNSINT
#endif

#if !HasPutenv
      PUTENVDEF = -DNOPUTENV
#endif

       PROGRAMS = twm
        DEPLIBS = $(DEPEXTENSIONLIB) $(DEPXMULIB) $(DEPXLIB)
LOCAL_LIBRARIES = $(EXTENSIONLIB) $(XMULIB) $(XLIB)
      OTHERSRCS = gram.y lex.l
         YFLAGS = -d
     OPTIONSDEF = -DSHAPE 
        DEFINES = $(OPTIONSDEF) $(SIGPROCDEF) $(PUTENVDEF)

SRCS1=	gram.c lex.c add_window.c gc.c list.c twm.c parse.c\
        menus.c events.c resize.c util.c version.c iconmgr.c\
	cursor.c icons.c

OBJS1=	gram.o lex.o add_window.o gc.o list.o twm.o parse.o\
        menus.o events.o resize.o util.o version.o iconmgr.o\
	cursor.o icons.o

all:: $(PROGRAMS)

depend:: lex.c gram.c

ComplexProgramTarget_1(twm,$(LOCAL_LIBRARIES),)

gram.h gram.c: gram.y
	yacc -d gram.y
	$(MV) y.tab.c gram.c
	$(MV) y.tab.h gram.h

clean::
	$(RM) y.tab.h y.tab.c lex.yy.c gram.h gram.c lex.c

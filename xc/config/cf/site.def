XCOMM site:  $XConsortium: site.def,v 1.123 94/04/02 16:20:23 matt Exp $

/*****************************************************************************
 *                                                                           *
 *			   SITE-SPECIFIC DEFINITIONS                         *
 *                                                                           *
 * This file contains two halves, one included before the vendor-specific    *
 * configuration file (.cf file), and one included after the .cf file.       *
 * The before-half should be protected by #ifdef BeforeVendorCF, and the     *
 * after-half should be protected by #ifdef AfterVendorCF.                   *
 *                                                                           *
 * The before-half should only set things that the .cf file depends on.      *
 * For the .cf files shipped in this release, the main variables in this     *
 * category are HasGcc and HasGcc2.                                          *
 *                                                                           *
 * The after-half should contain all other definitions.  For example,        *
 * place your ProjectRoot definition here.  Beware that several of the       *
 * .cf files supplied by vendors have a ProjectRoot already defined, so      *
 * you may need to #undef it first.                                          *
 *                                                                           *
 * OS Major and Minor version numbers should be changed directly in the .cf  *
 * file, not overridden in site.def.                                         *
 *                                                                           *
 *****************************************************************************/

/*****************************************************************************
 *                                                                           *
 *		  X Consortium In-House Build Parameters                     *
 *			Use at Your Own Risk				     *
 *                                                                           *
 *****************************************************************************/

#ifndef SiteIConfigFiles
#define SiteIConfigFiles $(IRULESRC)/host.def
#define LocalConfigFiles host.def
#endif

#include <host.def>

#ifdef BeforeVendorCF

/*
 * Set up C++ and Fresco build parameters.  We set the default C++ compiler
 * and flags for each platform so you can turn on Fresco builds by setting
 * BuildFresco to YES in host.def; by default we turn Fresco builds OFF on
 * SunOS 4 machines because SunOS 4 machines and HP machines would have to
 * compete for the single CenterLine C++ compiler license if we built it on
 * both.  When we have additional compilers and/or licenses, we can fix this.
 */

#ifdef SunArchitecture
#ifdef SVR4

#ifndef HasCplusplus 
#define HasCplusplus YES
#endif
#if !defined(HasSunCplusplus) && !defined(HasCenterLineCplusplus) && !defined(HasGcc2ForCplusplus)
#define HasSunCplusplus YES
#define CplusplusCompilerMajorVersion 4
#endif
#ifdef HasSunCplusplus
#define CplusplusDependIncludes -I/opt/SUNWspro/SC3.0/include/CC
#endif
#ifdef HasCenterLineCplusplus
#ifndef	CplusplusCmd
#define CplusplusCmd /obj/CenterLine/bin/CC
#endif
#ifndef	CplusplusDependIncludes
#define CplusplusDependIncludes -I/obj/CenterLine/clc++/sparc-solaris2/incl
#endif
#ifndef DefaultCplusplusOptions
#define DefaultCplusplusOptions -Xa
#endif
#endif

#else /* !SVR4 */

#ifndef HasCplusplus 
#define HasCplusplus YES
#endif
#if !defined(HasSunCplusplus) && !defined(HasCenterLineCplusplus) && !defined(HasGcc2ForCplusplus)
#define HasCenterLineCplusplus YES
#endif
#ifdef HasSunCplusplus
#define CplusplusDependIncludes -I/obj/lang/SC2.0.1/include/CC_413
#endif
#ifdef HasCenterLineCplusplus
#ifndef	CplusplusCmd
#define CplusplusCmd /obj/CenterLine/bin/CC
#endif
#ifndef	CplusplusDependIncludes
#define CplusplusDependIncludes -I/obj/CenterLine/clc++/sparc-sunos4/incl
#endif
#ifndef DefaultCplusplusOptions
#define DefaultCplusplusOptions -Xa
#endif
#endif

#ifndef BuildFresco
#define BuildFresco NO
#endif

#endif /* SVR4 */
#endif /* SunArchitecture */


#ifdef HPArchitecture
#ifndef HasCplusplus
#define HasCplusplus YES
#endif
#ifndef CplusplusCmd
#ifndef	CplusplusCmd
#define CplusplusCmd /obj/CenterLine/bin/CC
#endif
#ifndef	CplusplusDependIncludes
#define CplusplusDependIncludes -I/obj/CenterLine/clc++/pa-hpux8/incl
#endif
#endif
#ifndef CplusplusStandardDefines
#define CplusplusStandardDefines -D__ANSI_CPP__
#endif
#ifndef OptimizedCplusplusDebugFlags
#define OptimizedCplusplusDebugFlags -O
#endif
#endif


#if defined(BSD386Architecture) || defined(SVR4Architecture)
#ifndef XF86SVGAServer
#define XF86SVGAServer NO
#endif
#ifndef XF86S3Server
#define XF86S3Server YES
#endif
#ifndef XVirtualFramebufferServer
#define XVirtualFramebufferServer YES
#endif
#endif

#endif /* BeforeVendorCF */

#ifdef AfterVendorCF

#ifdef CrayArchitecture
#define ProjectRoot /X11R4/X11R6/X11
#else
#define ProjectRoot /X11
#endif

#ifndef BuildXKBlib
#define BuildXKBlib	YES
#endif

#ifdef SunArchitecture
#define HasCodeCenter	YES
#if defined(SparcArchitecture) && OSMajorVersion == 4
#define HasTestCenter	YES
#endif
#endif

#ifdef __hp9000s800
#define HasCodeCenter	YES
#endif

#if HasGcc2
#ifdef Sun3Architecture
#define PreIncDir /usr/local/lib/gcc-lib/sun3-sunos4.1/2.3.2/include
#endif
#if defined(SunArchitecture) && defined(SVR4)
#define PreIncDir /opt/gnu/lib/gcc-lib/sparc-sun-solaris2.3/2.5.8/include
#endif
#if defined(SunArchitecture) && !defined(SVR4)
#define PreIncDir /usr/local/lib/gcc-lib/sparc-sun-sunos4.1.3/2.5.8/include
#endif
#endif

#ifdef SGIArchitecture
/* this is to disable dynamic loading without changing ddx Imakefiles */
#define DynamicDDXObjectTarget(a,b,c,d)

/* 
 * We don't really want to build the server on all SGI machines,
 * since we don't have ddx bits for them.  This code is apparantly
 * here because we once had a Personal Iris for which we did have
 * bits, but that's not true anymore.  In any case, the default 
 * as long as SGI doesn't supply a ddx implementation to everyone
 * should be not to build a server on SGI; machines that can build
 * the server can enable it in their local host.def file.
 *
 * #undef BuildServer
 * #define BuildServer             YES
 * #define XirisServer		YES
 * #define BuildRE1		YES
 * #define BuildRE2		YES
 * #define StaticScreens	-DSTATIC_RE1 -DSTATIC_RE2
 */
#endif

#if defined(Sun3Architecture) && !HasGcc2
#undef  LibraryCCOptions
#define SharedLibraryCCOptions -f68881 -pipe
#endif

#define XmanLocalSearchPath /usr/local/man
#define ManPath XmanLocalSearchPath
#define HasXdmAuth YES

#if defined(UltrixArchitecture) && defined(MipsArchitecture)
#define	SetUIDProgramTarget(program,objects,deplibs,locallibs,syslibs)	@@\
program: objects deplibs						@@\
	RemoveTargetProgram($@)						@@\
	$(CC) -o $@ objects $(LDOPTIONS) locallibs $(LDLIBS) syslibs $(EXTRA_LOAD_FLAGS) @@\
	-$(TOP)/config/util/chownxterm					@@\
									@@\
clean::									@@\
	$(RM) program
#endif

#if !defined(UseInstalled) && !defined(Win32Architecture) && !defined(CrayArchitecture)
#ifdef InstallCmd
#undef InstallCmd
#endif
#define InstallCmd $(CONFIGSRC)/util/syminst.sh -DIR /x11/$(CURRENT_DIR)
#endif

#if defined(VaxArchitecture) || defined(PegasusArchitecture)
#define BuildFonts NO
#endif

#ifdef SonyArchitecture
#ifdef SonyBsdArchitecture
#undef HasSecureRPC
#endif
#endif

#ifdef i860SVR4Architecture
#define NormalLibX YES
#endif

#ifdef CrayArchitecture
#define OptimizedCDebugFlags
#endif

#if defined(OSF1Architecture) && defined(MipsArchitecture)
#define BuildPexExt NO
#endif

#ifdef AlphaArchitecture
#define XVirtualFramebufferServer YES
#define ServerExtraDefines -D_XSERVER64
#define ServerOSDefines -DDDXTIME
#endif

#endif /* AfterVendorCF */


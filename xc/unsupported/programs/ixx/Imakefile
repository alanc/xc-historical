XCOMM
XCOMM Interface translator
XCOMM

#ifdef InObjectCodeDir

ComplexProgramTarget(ixx)

#if !defined(UseDebug)
APP_CCFLAGS = $(OPTIMIZE_CCFLAGS)
#endif

YYDEBUG = -DYYDEBUG
SRCS = $(SRC)$(SLASH)*.$(CCSUFFIX) $(SRC)/gram.y

# -vd for y.output
YFLAGS = -d

MakeObjectFromSrcFlags(main,$(YYDEBUG))
MakeObjectFromSrc(err)
MakeObjectFromSrc(expr)
MakeObjectFromSrc(generator)
MakeObjectFromSrc(gen-hdr)
MakeObjectFromSrc(gen-impl)
MakeObjectFromSrc(gen-stubs)
MakeObjectFromSrc(os)
MakeObjectFromSrc(resolve)
MakeObjectFromSrc(scanner)

MakeObjectRule(gram,gram,-I$(SRC) $(YYDEBUG))

depend:: ${SRC}/tokens

$(SRC)/tokens gram.$(CCSUFFIX): $(SRC)/gram.y
	yacc $(YFLAGS) $(SRC)/gram.y
	mv y.tab.h $(SRC)/tokens
	mv y.tab.c gram.$(CCSUFFIX)

clean::
	$(RM) gram.$(CCSUFFIX)

#else

MakeInObjectCodeDir()

#endif

XCOMM $XConsortium: Imakefile,v 1.2 94/02/10 20:40:05 matt Exp $
XCOMM
XCOMM Interface translator
XCOMM

        YFLAGS = -d
DEPEND_DEFINES = CplusplusDependIncludes
       DEPLIBS =

#if ThreadedX
 LOCAL_LDFLAGS = ThreadsLoadFlags
 SYS_LIBRARIES = ThreadsLibraries
#endif

SRCS = gram.CCsuf main.CCsuf err.CCsuf expr.CCsuf generator.CCsuf \
       gen-hdr.CCsuf gen-impl.CCsuf gen-stubs.CCsuf os.CCsuf resolve.CCsuf \
       scanner.CCsuf

OBJS = gram.o main.o err.o expr.o generator.o \
       gen-hdr.o  gen-impl.o gen-stubs.o os.o resolve.o \
       scanner.o

NormalCplusplusObjectRule()

all::

depend:: tokens

tokens gram.CCsuf: gram.y
	$(CCYACC) $(YFLAGS) gram.y
	$(MV) y.tab.c gram.CCsuf
	$(MV) y.tab.h tokens

ComplexCplusplusProgramTarget(ixx)

SPECIAL_OPTIONS=CplusplusSpecialOptions
SpecialCplusplusObjectRule(gram,gram,$(SPECIAL_OPTIONS))

clean::
	RemoveFiles(y.tab.c y.tab.h tokens gram.CCsuf)


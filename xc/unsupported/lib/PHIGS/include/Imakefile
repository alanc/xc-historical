##
# $XConsortium: Imakefile,v 5.9 91/03/15 17:35:42 rws Exp $
##
## 
## Copyright 1989, 1990, 1991 by Sun Microsystems, Inc. and the X Consortium.
## 
##			 All Rights Reserved
## 
## Permission to use, copy, modify, and distribute this software and its 
## documentation for any purpose and without fee is hereby granted, 
## provided that the above copyright notice appear in all copies and that
## both that copyright notice and this permission notice appear in 
## supporting documentation, and that the names of Sun Microsystems,
## the X Consortium, and MIT not be used in advertising or publicity 
## pertaining to distribution of the software without specific, written 
## prior permission.  
## 
## SUN MICROSYSTEMS DISCLAIMS ALL WARRANTIES WITH REGARD TO THIS SOFTWARE, 
## INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS, IN NO
## EVENT SHALL SUN MICROSYSTEMS BE LIABLE FOR ANY SPECIAL, INDIRECT OR
## CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM LOSS OF
## USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
## OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
## PERFORMANCE OF THIS SOFTWARE.

#include <Library.tmpl>

#define PassCDebugFlags

#ifndef PexPhigsCDebugFlags
#define PexPhigsCDebugFlags LibraryCDebugFlags
#endif

INSTALLFLAGS = $(INSTINCFLAGS)
CDEBUGFLAGS = PexPhigsCDebugFlags
    DEFINES = PexPhigsDefines

HDRS =  \
	alloc.h	  \
	ar.h      \
	assure.h  \
	attr.h    \
	cp.h      \
	cpx.h     \
	cpa.h     \
	cpb.h     \
	cp_ops.h  \
	css.h     \
	err.h     \
	errnum.h  \
	mat_utils.h \
	phg.h     \
	phg_dt.h  \
	phgargs.h \
	phgretdata.h \
	phgtype.h \
	phigs.h   \
	phigsextrn.h \
	phigspex.h \
	phigscfunc.h \
	phigserr.h \
	psl.h     \
	sin.h     \
	sin_q.h   \
	util.h    \
	version.h \
	ws.h      \
	ws_inp.h  \
	ws_type.h \
	PEXtempl.h

   PEXAPIINC = -I../include
  PEXINCLUDE = -I../../../include/PEX
    INCLUDES = $(PEXAPIINC) $(PEXINCLUDE) -I../../../../X11

all:: errnum.h PHIGSerr.txt

includes:: errnum.h

extract: $(HDRS) PHIGSerr.txt PHIGSfnc.txt lintfiltstrs

errnum.h: errgen.awk phigserr.h
	awk -f errgen.awk DATE=`date +%y/%m/%d,%T` phigserr.h > errnum.h

# use "sccs fix -r1.XX  PHIGSerr.txt; make" to avoid many, many SCCS deltas.
PHIGSerr.txt: errmsgen.awk phigserr.h errnum.h
	awk -f errmsgen.awk DATE=`date +%y/%m/%d,%T` phigserr.h > PHIGSerr.txt

lint lint-x : lintfiltstrs
	@echo "no include lint needed"

lintlib : lintfiltstrs
	@echo "no include lint library"

#ifdef HPArchitecture
SpecialObjectRule(hpext.o, $(IRULESRC)/$(MACROFILE), $(EXT_DEFINES))
#endif

depend::

CLIENTHEADERS = phigs.h attr.h phigscfunc.h phigsextrn.h phigserr.h errnum.h

BuildIncludes($(CLIENTHEADERS),phigs,..)
InstallMultiple($(CLIENTHEADERS),$(INCDIR)/phigs)


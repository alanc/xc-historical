##
# $XConsortium: Imakefile,v 5.5 91/02/18 11:42:16 rws Exp $
##
## 
## Copyright 1989, 1990, 1991 by Sun Microsystems, Inc. and the X Consortium.
## 
##                         All Rights Reserved
## 
## Permission to use, copy, modify, and distribute this software and its 
## documentation for any purpose and without fee is hereby granted, 
## provided that the above copyright notice appear in all copies and that
## both that copyright notice and this permission notice appear in 
## supporting documentation, and that the names of Sun Microsystems,
## the X Consortium, and MIT not be used in advertising or publicity 
## pertaining to distribution of the software without specific, written 
## prior permission.  
## 
## SUN MICROSYSTEMS DISCLAIMS ALL WARRANTIES WITH REGARD TO THIS SOFTWARE, 
## INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS, IN NO
## EVENT SHALL SUN MICROSYSTEMS BE LIABLE FOR ANY SPECIAL, INDIRECT OR
## CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM LOSS OF
## USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
## OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
## PERFORMANCE OF THIS SOFTWARE.

#include <Library.tmpl>

#ifndef PexPhigsCDebugFlags
#define PexPhigsCDebugFlags LibraryCDebugFlags
#endif

CDEBUGFLAGS = PexPhigsCDebugFlags
    DEFINES = PexPhigsDefines

CSRCS = css_el.c css_inq.c css_set.c css_str.c css_ini.c css_pr.c \
       css_stb.c css_ws.c

OBJS = css_el.o css_inq.o css_set.o css_str.o css_ini.o css_pr.o \
       css_stb.o css_ws.o

HSRCS = css_priv.h

SRCS = $(CSRCS) $(HSRCS)

.SUFFIXES: .o .lint

   PEXAPIINC = -I../include
  PEXINCLUDE = -I../../../include/PEX
    INCLUDES = $(PEXAPIINC) $(PEXINCLUDE) -I../../../../X11

LINTOPTS = -uv
LINT_LIBS = ../error/llib-lerr.ln
XLINT_LIBS = $(LINTXLIB)
LINT_FILTER_FILE = ../include/lint_filter_strings
LINT_FILTER = fgrep -v -f $(LINT_FILTER_FILE) | cat

all:: DONE

DONE: ${OBJS}
	touch DONE

extract : $(SRCS)

lint: $(SRCS)
	-$(LINT) $(CSRCS) $(LINTFLAGS) $(LINT_LIBS) | $(LINT_FILTER)

lint-x: $(SRCS)
	-$(LINT) $(CSRCS) $(LINTFLAGS) $(LINT_LIBS) $(XLINT_LIBS) | $(LINT_FILTER)

lintlib : llib-lcss.ln

llib-lcss.ln : $(SRCS)
	-$(LINT) $(CSRCS) $(LINTFLAGS) -Ccss | $(LINT_FILTER)

.c.lint:
	-$(LINT) $< $(LINTFLAGS) $(LINT_LIBS) $(XLINT_LIBS) | $(LINT_FILTER)

#ifdef HPArchitecture
SpecialObjectRule(hpext.o, $(IRULESRC)/$(MACROFILE), $(EXT_DEFINES))
#endif

DependTarget()

clean::
	$(RM) DONE

/* $XConsortium: Imakefile,v 1.19 89/12/02 14:22:38 rws Exp $ */
#define IHaveSubdirs
#define PassCDebugFlags 'CDEBUGFLAGS=$(CDEBUGFLAGS)'

  STD_DEFINES = LibraryDefines ExtensionDefines
  CDEBUGFLAGS = LibraryCDebugFlags
     INCLUDES = -I$(TOP) -I$(INCLUDESRC) -I$(XLIBSRC) -I../include
         SRCS = globals.c extutil.c XMultibuf.c XShape.c XShm.c  \
		MITMisc.c XTestExt1.c
         OBJS = globals.o extutil.o XMultibuf.o XShape.o XShm.o \
		MITMisc.o XTestExt1.o 
     LINTLIBS = $(LINTXLIB)
      SUBDIRS = xinput

#if DebugLibXext && ProfileLibXext
DebuggedAndProfiledLibraryObjectRule()
#else
# if DebugLibXext
DebuggedLibraryObjectRule()
# else
#  if ProfileLibXext
ProfiledLibraryObjectRule()
#  else
NormalLibraryObjectRule()
#  endif
# endif
#endif

NormalLibraryTarget(Xext,$(OBJS))
LintLibraryTarget(Xext,$(SRCS))
InstallLibrary(Xext,$(USRLIBDIR))

#if DoInstallExtensionsIntoXlib
MergeIntoInstalledLibrary($(USRLIBDIR)/libX11.a,libXext.a)
#endif

InstallLintLibrary(Xext,$(LINTLIBDIR))

#if ProfileLibXext
ProfiledLibraryTarget(Xext,$(OBJS))
InstallLibrary(Xext_p,$(USRLIBDIR))
#if DoInstallExtensionsIntoXlib
MergeIntoInstalledLibrary($(USRLIBDIR)/libX11_p.a,libXext_p.a)
#endif
#endif

#if DebugLibXext
DebuggedLibraryTarget(Xext,$(OBJS))
InstallLibrary(Xext_d,$(USRLIBDIR))
#if DoInstallExtensionsIntoXlib
MergeIntoInstalledLibrary($(USRLIBDIR)/libX11_d.a,libXext_d.a)
#endif
#endif

MakeSubdirs($(SUBDIRS))
DependSubdirs($(SUBDIRS))

DependTarget()

NormalLintTarget($(SRCS))
